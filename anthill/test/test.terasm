b 178;
movi r-13, 1000;
movi r-11, 0;
st r-13, r-11, 0;
movi r-13, 0;
movi r-11, 2;
st r-13, r-11, 0;
print_int:
mov r-13, r-8;
movi r-11, 6;
st r-13, r-11, 0;
sys 1;ret;
print_char:
mov r-13, r-8;
movi r-11, 7;
st r-13, r-11, 0;
sys 3;ret;
malloc:
mov r-13, r-8;
movi r-11, 9;
st r-13, r-11, 0;
movi r-11, 0;
ld r-13, r-11, 0;
movi r-11, 9;
st r-13, r-11, 0;
movi r-11, 0;
ld r-13, r-11, 0;
mov r-12, r-13;
movi r-11, 9;
ld r-13, r-11, 0;
add r-13, r-12, r-13;
movi r-11, 0;
st r-13, r-11, 0;
movi r-11, 9;
ld r-13, r-11, 0;
ret;
ret;
free:
mov r-13, r-8;
movi r-11, 13;
st r-13, r-11, 0;
movi r-11, 13;
ld r-13, r-11, 0;
movi r-11, 2;
st r-13, r-11, 0;
ret;
fac:
mov r-13, r-8;
movi r-11, 15;
st r-13, r-11, 0;
movi r-11, 15;
ld r-13, r-11, 0;
mov r-8, r-13;
call print_int;
movi r-13, 1;
movi r-11, 15;
st r-13, r-11, 0;
movi r-13, 1;
movi r-11, 17;
st r-13, r-11, 0;
mov r-11, r-13;
_for0:
mov r-13, r-11;
movi r-11, 17;
ld r-13, r-11, 0;
mov r-12, r-13;
movi r-11, 15;
ld r-13, r-11, 0;
mul r-13, r-12, r-13;
movi r-11, 15;
st r-13, r-11, 0;
mov r-11, r-13;
movi r-11, 17;
ld r-13, r-11, 0;
mov r-12, r-13;
movi r-13, 1;
add r-13, r-12, r-13;
movi r-11, 17;
st r-13, r-11, 0;
movi r-11, 17;
ld r-13, r-11, 0;
mov r-12, r-13;
movi r-13, 10;
cmp r-12, r-13;
movi r-13, 1;
blt 2;
movi r-13, -1;
cmpi r-13, -1;
bne _for0;
mov r-13, r-11;
movi r-11, 15;
ld r-13, r-11, 0;
ret;
ret;
main:
movi r-13, 4;
mov r-8, r-13;
call fac;
mov r-8, r-13;
call print_int;
movi r-13, 0;
sys 0;
ret;
